{% extends 'base.html.twig' %}

{% block stylesheets %}

	<link href="{{asset('css/Voucher.css')}}" rel="stylesheet" media="all">
	
{% endblock %}
{% block body %}
	<div class="d-inline-flex align-items-center d-block d-lg-none">
		<a href="#" class="btn px-0 ml-2">
			<i class="fas fa-heart text-dark"></i>
			<span class="badge text-dark border border-dark rounded-circle" style="padding-bottom: 2px;">0</span>
		</a>
		<a href="#" class="btn px-0 ml-2">
			<i class="fas fa-shopping-cart text-dark"></i>
			<span class="badge text-dark border border-dark rounded-circle" style="padding-bottom: 2px;">0</span>
		</a>
	</div>

	{# <div class="row align-items-center bg-light py-3 px-xl-5 d-none d-lg-flex">
																												<div class="col-lg-4">
																													<a href="{{ path('home_page') }}" class="text-decoration-none">
																														<span class="h1 text-uppercase text-primary bg-dark px-2">VESTA</span>
																														<span class="h1 text-uppercase text-dark bg-primary px-2 ml-n1">Shop</span>
																													</a>
																												</div>
																												<div class="col-lg-4 col-6 text-left">
																													<form action="{{ path('showProduct') }}" method="get">
																														<div class="input-group">
																															<input type="text" class="form-control" name="query" placeholder="Search for products">
																															<div class="input-group-append">
																																<button type="submit" class="input-group-text bg-transparent text-primary">
																																	<i class="fa fa-search"></i>
																																</button>
																															</div>
																														</div>
																													</form>
																												</div>
																												<div class="col-lg-4 col-6 text-right">
																													<p class="m-0">Customer Service</p>
																													<h5 class="m-0">+012 345 6789</h5>
																												</div>
																											</div> #}

	<!-- Topbar End -->


	<!-- Navbar Start -->

	{# <div class="container-fluid bg-dark mb-30"> <div class="row px-xl-5">
																												<div class="col-lg-3 d-none d-lg-block">
																													<a class="btn d-flex align-items-center justify-content-between bg-primary w-100" data-bs-toggle="collapse" href="#navbar-vertical" style="height: 65px; padding: 0 30px;"></a>
																													<nav class="collapse position-absolute navbar navbar-vertical navbar-light align-items-start p-0 bg-light" id="navbar-vertical" style="width: calc(100% - 30px); z-index: 999;">
																														<div class="navbar-nav w-100">
																															<div class="nav-item dropdown dropright">
																																<a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Dresses
																																	<i class="fa fa-angle-right float-right mt-1"></i>
																																</a>
																																<div class="dropdown-menu position-absolute rounded-0 border-0 m-0">
																																	<a href="#" class="dropdown-item">Men's Dresses</a>
																																	<a href="#" class="dropdown-item">Women's Dresses</a>
																																	<a href="#" class="dropdown-item">Baby's Dresses</a>
																																</div>
																															</div>
																															<a href="#" class="nav-item nav-link">Shirts</a>
																															<a href="#" class="nav-item nav-link">Jeans</a>
																															<a href="#" class="nav-item nav-link">Swimwear</a>
																															<a href="#" class="nav-item nav-link">Sleepwear</a>
																															<a href="#" class="nav-item nav-link">Sportswear</a>
																															<a href="#" class="nav-item nav-link">Jumpsuits</a>
																															<a href="#" class="nav-item nav-link">Blazers</a>
																															<a href="#" class="nav-item nav-link">Jackets</a>
																															<a href="#" class="nav-item nav-link">Shoes</a>
																														</div>
																													</nav>
																												</div>
																												<div class="col-lg-9">
																													<nav class="navbar navbar-expand-lg bg-dark navbar-dark py-3 py-lg-0 px-0">
																														<a href="#" class="text-decoration-none d-block d-lg-none">
																															<span class="h1 text-uppercase text-dark bg-light px-2">Multi</span>
																															<span class="h1 text-uppercase text-light bg-primary px-2 ml-n1">Shop</span>
																														</a>
																														<button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
																															<span class="navbar-toggler-icon"></span>
																														</button>
																														<div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
																															<div class="navbar-nav mr-auto py-0">
																																<a href="{{ path('home_page') }}" class="nav-item nav-link active">Home</a>
																																<a href="{{ path('showProduct') }}" class="nav-item nav-link">Shop</a>
																																<a href="{{ path('proDetail_page') }}"  class="nav-item nav-link">Shop Detail</a>
																																<div class="nav-item dropdown">
																																	<a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Pages
																																		<i class="fa fa-angle-down mt-1"></i>
																																	</a>
																																	<div class="dropdown-menu bg-primary rounded-0 border-0 m-0">
																																		<a href="{{ path('shoppingCart') }}" class="dropdown-item">Shopping Cart</a>
																																		<a href="{{ path('changeAction') }}" class="dropdown-item">Checkout</a>
																																	</div>
																																</div>
																																<a href="{{ path('contact') }}" class="nav-item nav-link">Contact</a>
																															</div>
																															<div class="navbar-nav ml-auto py-0 d-none d-lg-block">
																																<a href="#" class="btn px-0">
																																	<i class="fas fa-heart text-primary"></i>
																																	<span class="badge text-secondary border border-secondary rounded-circle" style="padding-bottom: 2px;">0</span>
																																</a>
																																<a href="#" class="btn px-0 ml-3">
																																	<i class="fas fa-shopping-cart text-primary"></i>
																																	<span class="badge text-secondary border border-secondary rounded-circle" style="padding-bottom: 2px;">0</span>
																																</a>
																															</div>
																														</div>
																													</nav>
																												</div>
																											</div>
																										</div> #}

	<!-- Navbar End -->


	<!-- Carousel Start -->
		<div class="container-fluid mb-3"> <div class="row px-xl-5">
			<div class="col-lg-8">
				<div id="header-carousel" class="carousel slide carousel-fade mb-30 mb-lg-0" data-bs-ride="carousel">
					<ol class="carousel-indicators">
						<li data-bs-target="#header-carousel" data-bs-slide-to="0" class="active"></li>
						<li data-bs-target="#header-carousel" data-bs-slide-to="1"></li>
						<li data-bs-target="#header-carousel" data-bs-slide-to="2"></li>
					</ol>
					<div class="carousel-inner">
						<div class="carousel-item position-relative active" style="height: 430px;">
							<img class="position-absolute w-100 h-100" src="{{ asset('images/Poster_1.jpg') }}" style="object-fit: cover;">
							<div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
								<div class="p-3" style="max-width: 700px;">
									<h1 class="display-4 text-white mb-3 animate__animated animate__fadeInDown"></h1>
									<p class="mx-md-5 px-5 animate__animated animate__bounceIn"></p>
									{# <a class="btn btn-outline-light py-2 px-4 mt-3 animate__animated animate__fadeInUp" href="#"></a> #}
								</div>
							</div>
						</div>
						<div class="carousel-item position-relative" style="height: 430px;">
							<img class="position-absolute w-100 h-100" src="{{ asset('images/poster_header_2.jpg') }}" style="object-fit: cover;">
							<div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
								<div class="p-3" style="max-width: 700px;">
									<h1 class="display-4 text-white mb-3 animate__animated animate__fadeInDown"></h1>
									<p class="mx-md-5 px-5 animate__animated animate__bounceIn"></p>
									{# <a class="btn btn-outline-light py-2 px-4 mt-3 animate__animated animate__fadeInUp" href="#">Shop Now</a> #}
								</div>
							</div>
						</div>
						<div class="carousel-item position-relative" style="height: 430px;">
							<img class="position-absolute w-100 h-100" src="{{ asset('images/poster_header.jpg') }}" style="object-fit: cover;">
							<div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
								<div class="p-3" style="max-width: 700px;">
									<h1 class="display-4 text-white mb-3 animate__animated animate__fadeInDown"></h1>
									<p class="mx-md-5 px-5 animate__animated animate__bounceIn"></p>
									{# <a class="btn btn-outline-light py-2 px-4 mt-3 animate__animated animate__fadeInUp" href="#">Shop Now</a> #}
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-lg-4">
				<div class="product-offer mb-30" style="height: 200px;">
					<img class="img-fluid" src="{{ asset('images/Poster_2.jpg') }}" alt="">
					<div class="offer-text">
						<h6 class="text-white text-uppercase">Save 20%</h6>
						<h3 class="text-white mb-3">Special Offer</h3>
						<a href="#" class="btn btn-primary">Shop Now</a>
					</div>
				</div>
				<div class="product-offer mb-30" style="height: 200px;">
					<img class="img-fluid" src="{{ asset('images/Candle5.jpg') }}" alt="">
					<div class="offer-text">
						<h6 class="text-white text-uppercase">Save 20%</h6>
						<h3 class="text-white mb-3">Special Offer</h3>
						<a href="#" class="btn btn-primary">Shop Now</a>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Carousel End -->


	<!-- Featured Start -->
	<div class="container-fluid pt-5">
		<div class="row px-xl-5 pb-3">
			<div class="col-lg-3 col-md-6 col-sm-12 pb-1">
				<div class="d-flex align-items-center bg-light mb-4 shadow" style="padding: 30px; border-radius: 12px;">
					<h1 class="fa fa-check text-primary m-0 mr-3"></h1>
					<h5 class="font-weight-semi-bold" style="padding-left: 10px;">Quality Product</h5>
				</div>
			</div>
			<div class="col-lg-3 col-md-6 col-sm-12 pb-1 ">
				<div class="d-flex align-items-center bg-light mb-4 shadow" style="padding: 30px; border-radius: 12px;">
					<h1 class="fa fa-shipping-fast text-primary m-0 mr-2"></h1>
					<h5 class="font-weight-semi-bold m-0" style="padding-left: 10px;">Free Shipping</h5>
				</div>
			</div>
			<div class="col-lg-3 col-md-6 col-sm-12 pb-1">
				<div class="d-flex align-items-center bg-light mb-4 shadow" style="padding: 30px; border-radius: 12px; ">
					<h1 class="fas fa-exchange-alt text-primary m-0 mr-3"></h1>
					<h5 class="font-weight-semi-bold m-0" style="height: 48px; width: 172px; padding: 12px 0; padding-left: 10px;">14-Day Return</h5>
				</div>
			</div>
			<div class="col-lg-3 col-md-6 col-sm-12 pb-1">
				<div class="d-flex align-items-center bg-light mb-4 shadow" style="padding: 30px; border-radius: 12px;">
					<h1 class="fa fa-phone-volume text-primary m-0 mr-3"></h1>
					<h5 class="font-weight-semi-bold m-0" style="height: 48px; width: 172px; padding: 12px 0;  padding-left: 10px;">24/7 Support</h5>
				</div>
			</div>
		</div>
	</div>

	<!-- Featured End -->


	<!-- Categories Start -->

	<div class="container-fluid pt-5">
		<h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4">
			<span class="bg-secondary pr-3">Categories</span>
		</h2>
		<div class="row px-xl-5 pb-3">
			{% for i in 1..12 %}
				<div class="col-lg-3 col-md-4 col-sm-6 pb-1">
					<a class="text-decoration-none" href="">
						<div class="cat-item d-flex align-items-center mb-4">
							<div class="overflow-hidden" style="width: 100px; height: 100px;">
								<img class="img-fluid" src="{{ asset('images/Candle' ~ (i % 12 + 1) ~ '.jpg') }}" alt="">
							</div>
							<div class="flex-fill pl-3">
								<h6>Category Name</h6>
								<small class="text-body">100 Products</small>
							</div>
						</div>
					</a>
				</div>
			{% endfor %}
		</div>
	</div>

	<!-- Categories End -->


	<!-- Products Start -->

	<div class="container-fluid pt-5 pb-3">
		<h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4">
			<span class="bg-secondary pr-3">Featured Products</span>
		</h2>
		<div class="row px-xl-5">
			{% if products|length == 0 %}
				<p>No products found</p>
			{% else %}
				{% for p in products %}
					<div class="col-lg-3 col-md-4 col-sm-6 pb-1">
						<div class="product-item bg-light mb-4">
							<div class="product-img position-relative overflow-hidden">
								<img class="img-fluid w-100" src="{{ asset('images/' ~ p.image) }}" alt="{{ p.name }}">
								<div class="product-action">
									<a class="btn btn-outline-dark btn-square">
										<input type="hidden" id="count" value="1"/>
										<input type="hidden" name="size" value="" id="proSizeId{{p.id}}">

										<button style="border:0px; background: #fbfafa;" class="add-to-cart fw-bold" name="insert_button{{p.id}}" onclick="insert_row({{p.id}})">
											<i class="fa-solid fa-cart-shopping"></i>
										</button>
									</a>
									<a style="background: #fbfafa;" class="btn btn-outline-dark btn-square" href="{{ path('add_wishlist', {'id': p.id}) }}" method="post">
										<i class="far fa-heart"></i>
									</a>

									<a style="background: #fbfafa;" class="btn btn-outline-dark btn-square">
										<button class="share-btn" onclick="shareProduct('{{p.id}}')" style="width: 30px; height: 30px ; background: #efeeec; margin-bottom: 5px;border-radius: 10px;">
											<i class="fa fa-share"></i>
										</button>
									</a>

									{# <a class="btn btn-outline-dark btn-square" href="{{ path('showProduct', {'id': p.id}) }}">
																																																																																		<i class="fa fa-search"></i>
																																																																																	</a> #}
								</div>
							</div>
							<!-- HTML cho cửa sổ popup -->
							<div class="modal fade" id="shareModal" tabindex="-1" aria-labelledby="shareModalLabel" aria-hidden="true">
								<div class="modal-dialog">
									<div class="modal-content">
										<div class="modal-header">
											<h5 class="modal-title" id="shareModalLabel">Share Product</h5>
											<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
										</div>
										<div class="modal-body">
											<p id="shareLink">Product Link Here</p>
										</div>
									</div>
								</div>
							</div>
							<div class="product-content">
								<div
									class="mb-1">
									{# <span>Select Size</span> #}
									<div class="form text-center">
										{% set status = 0 %}
										{% for ps in proSize %}
											{% if ps.proId == p.id %}
												<input type="radio" name="size" id="size{{ps.sizeId}}" onchange="getSize({{ps.psId}}, {{p.id}})"/>
												<label for="size{{ps.sizeId}}" class="me-1">{{ps.sizeName}}</label>
												{% set status = 1 %}
											{% endif %}
										{% endfor %}
										{% if status == 0 %}
											<p class="mb-0">Out Of Stock</p>
										{% endif %}
									</div>
								</div>
								<h3 class="title">
									<a href="{{path('product_detail', {'id': p.id})}}">{{p.name}}</a>
								</h3>
								<div class="price">
									<a href="{{path('product_detail', {'id': p.id})}}">${{p.price}}</a>
								</div>
							</div>
							<div
								class="text-center py-4">
								{# <a class="h6 text-decoration-none text-truncate" href="{{ path('product_show', {'id': p.id}) }}">{{ p.name }}</a> #}
								<div class="d-flex align-items-center justify-content-center mt-2">
									<h5>${{ p.price }}</h5>
									<h6 class="text-muted ml-2">
										{# <del>{{ p.originalPrice }}</del> #}
									</h6>

								</div>
								<div class="d-flex align-items-center justify-content-center mb-1">
									{% for i in 1..5 %}
										{% if i <= p.rating %}
											<small class="fa fa-star text-primary mr-1"></small>
										{% elseif i == p.rating + 0.5 %}
											<small class="fa fa-star-half-alt text-primary mr-1"></small>
										{% else %}
											<small class="far fa-star text-primary mr-1"></small>
										{% endif %}
									{% endfor %}
									{# <small>({{ p.reviews_count }})</small> #}
								</div>
							</div>
						</div>
					</div>
				{% endfor %}
			{% endif %}
		</div>
	</div>

	<!-- Products End -->


	<!-- Offer Start -->
	<div class="container-fluid pt-5 pb-3">
		<div class="row px-xl-5">
			<div class="col-md-6">
				<div class="product-offer mb-30" style="height: 300px;">
					<img class="img-fluid" src="{{ asset('images/Poster_5.jpg') }}" alt="">
					<div class="offer-text">
						<h6 class="text-white text-uppercase">Save 20%</h6>
						<h3 class="text-white mb-3">Special Offer</h3>
						<a href="#" class="btn btn-primary">Shop Now</a>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="product-offer mb-30" style="height: 300px;">
					<img class="img-fluid" src="{{ asset('images/Poster_4.jpg') }}" alt="">
					<div class="offer-text">
						<h6 class="text-white text-uppercase">Save 20%</h6>
						<h3 class="text-white mb-3">Special Offer</h3>
						<a href="#" class="btn btn-primary">Shop Now</a>
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- Offer End -->


	<!-- Products Start -->

	<div class="container-fluid pt-5 pb-3">
		<h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4">
			<span class="bg-secondary pr-3">Recent Products</span>
		</h2>
		<div class="row px-xl-5">
			{% if products|length == 0 %}
				<p>No products found</p>
			{% else %}
				{% for p in products %}
					<div class="col-lg-3 col-md-4 col-sm-6 pb-1">
						<div class="product-item bg-light mb-4">
							<div class="product-img position-relative overflow-hidden">
								<img class="img-fluid w-100" src="{{ asset('images/' ~ p.image) }}" alt="{{ p.name }}">
								<div class="product-action">
									<a class="btn btn-outline-dark btn-square">
										<input type="hidden" id="count" value="1"/>
										<input type="hidden" name="size" value="" id="proSizeId{{p.id}}">

										<button style="border:0px; background: #fbfafa;" class="add-to-cart fw-bold" name="insert_button{{p.id}}" onclick="insert_row({{p.id}})">
											<i class="fa-solid fa-cart-shopping"></i>
										</button>
									</a>
									<a style="background: #fbfafa;" class="btn btn-outline-dark btn-square" href="{{ path('add_wishlist', {'id': p.id}) }}" method="post">
										<i class="far fa-heart"></i>
									</a>

									<a style="background: #fbfafa;" class="btn btn-outline-dark btn-square">
										<button class="share-btn" onclick="shareProduct('{{p.id}}')" style="width: 30px; height: 30px ; background: #efeeec; margin-bottom: 5px;border-radius: 10px;">
											<i class="fa fa-share"></i>
										</button>
									</a>

									{# <a class="btn btn-outline-dark btn-square" href="{{ path('showProduct', {'id': p.id}) }}">
																																																																																		<i class="fa fa-search"></i>
																																																																																	</a> #}
								</div>
							</div>
							<!-- HTML cho cửa sổ popup -->
							<div class="modal fade" id="shareModal" tabindex="-1" aria-labelledby="shareModalLabel" aria-hidden="true">
								<div class="modal-dialog">
									<div class="modal-content">
										<div class="modal-header">
											<h5 class="modal-title" id="shareModalLabel">Share Product</h5>
											<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
										</div>
										<div class="modal-body">
											<p id="shareLink">Product Link Here</p>
										</div>
									</div>
								</div>
							</div>
							<div class="product-content">
								<div
									class="mb-1">
									{# <span>Select Size</span> #}
									<div class="form text-center">
										{% set status = 0 %}
										{% for ps in proSize %}
											{% if ps.proId == p.id %}
												<input type="radio" name="size" id="size{{ps.sizeId}}" onchange="getSize({{ps.psId}}, {{p.id}})"/>
												<label for="size{{ps.sizeId}}" class="me-1">{{ps.sizeName}}</label>
												{% set status = 1 %}
											{% endif %}
										{% endfor %}
										{% if status == 0 %}
											<p class="mb-0">Out Of Stock</p>
										{% endif %}
									</div>
								</div>
								<h3 class="title">
									<a href="{{path('product_detail', {'id': p.id})}}">{{p.name}}</a>
								</h3>
								<div class="price">
									<a href="{{path('product_detail', {'id': p.id})}}">${{p.price}}</a>
								</div>
							</div>
							{# {% if product.Voucher %}
								<p>Voucher:
									{{ product.Voucher.percentage }}%</p>
								<p>Vouchered Price: ${{ product.price - (product.price * product.Voucher.percentage / 100) }}</p>
							{% endif %} #}
							<div
								class="text-center py-4">
								{# <a class="h6 text-decoration-none text-truncate" href="{{ path('product_show', {'id': p.id}) }}">{{ p.name }}</a> #}
								<div class="d-flex align-items-center justify-content-center mt-2">
									<h5>${{ p.price }}</h5>
									<h6 class="text-muted ml-2">
										{# <del>{{ p.originalPrice }}</del> #}
									</h6>

								</div>
								<div class="d-flex align-items-center justify-content-center mb-1">
									{% for i in 1..5 %}
										{% if i <= p.rating %}
											<small class="fa fa-star text-primary mr-1"></small>
										{% elseif i == p.rating + 0.5 %}
											<small class="fa fa-star-half-alt text-primary mr-1"></small>
										{% else %}
											<small class="far fa-star text-primary mr-1"></small>
										{% endif %}
									{% endfor %}
									{# <small>({{ p.reviews_count }})</small> #}
								</div>
							</div>
						</div>
					</div>
				{% endfor %}
			{% endif %}
		</div>
	</div>


	<!-- Products End -->


	<!-- Vendor Start -->
	{# <div class="container-fluid py-5">
														<div class="row px-xl-5">
															<div class="col">
																<div class="owl-carousel vendor-carousel">
																	<div class="bg-light p-4">
																		<img src="{{ asset('images/Candle6.jpg') }}" alt="">
																	</div>
																	<div class="bg-light p-4">
																		<img src="{{ asset('images/Candle7.jpg') }}" alt="">
																	</div>
																	<div class="bg-light p-4">
																		<img src="{{ asset('images/Candle8.jpg') }}" alt="">
																	</div>
																	<div class="bg-light p-4">
																		<img src="{{ asset('images/Candle9.jpg') }}" alt="">
																	</div>
																	<div class="bg-light p-4">
																		<img src="{{ asset('images/Candle10.jpg') }}" alt="">
																	</div>
																	<div class="bg-light p-4">
																		<img src="{{ asset('images/Candle11.jpg') }}" alt="">
																	</div>
																	<div class="bg-light p-4">
																		<img src="{{ asset('images/Candle12.jpg') }}" alt="">
																	</div>
																	<div class="bg-light p-4">
																		<img src="{{ asset('images/Candle13.jpg') }}" alt="">
																	</div>
																</div>
															</div>
														</div>
													</div>#}<div style="background: #000; width: 20%; height: 5px; border-radius: 12px; margin-left: 40%; margin-bottom: 10px;"> </div>
	<div style="background: #000; width: 40%; height: 5px; border-radius: 12px; margin-left: 30%; margin-bottom: 10px;"></div>
	<div style="background: #000; width: 60%; height: 5px; border-radius: 12px; margin-left: 20%;"></div>

	<!-- Vendor End -->


	<!-- Back to Top -->
	<a href="#" class="btn btn-primary back-to-top">
		<i class="fa fa-angle-double-up"></i>
	</a>
	<!-- JavaScript Libraries -->


	<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
	<script src="lib/easing/easing.min.js"></script>
	<script src="lib/owlcarousel/owl.carousel.min.js"></script>
	<!-- Contact Javascript File -->
	<script src="mail/jqBootstrapValidation.min.js"></script>
	<script src="mail/contact.js"></script>
	<!-- Template Javascript -->
	<script src="js/main.js"></script>

	<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/js/select2.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<!-- Insert into Cart -->
	<script>
		const myModal = new bootstrap.Modal(document.getElementById('shareModal'));
function getSize(proSizeId, proId) {
var getProSize = document.getElementById("proSizeId" + proId);
getProSize.value = proSizeId;
}

function insert_row(id) {
var proSizeId = document.getElementById("proSizeId" + id).value;
if (proSizeId != "") {
var count = document.getElementById("count").value;
$.ajax({
type: 'post',
url: '/cart/add',
data: {
proId: id,
proSizeId: proSizeId,
count: count
},
success: function (response) {
window.location.href = '/cart';
},
error: function (xhr, status, error) {
console.log(xhr);
}
});
} else {
Swal.fire('Please choose your size!');
}
}
// const myModal = new bootstrap.Modal(document.getElementById('shareModal'));
function shareProduct(productId) {
var currentUrl = window.location.href;
var cleanUrl = currentUrl.substring(0, currentUrl.indexOf('/Voucher/index'));
var shareUrl = cleanUrl + "detail/" + productId;
var input = `
			<div class="row">
				<div class="col-10">
					<input type="text" readonly value="${shareUrl}" id="shareLinkInput" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
				</div>
				<div class="col-2">
					<button onclick="copyToClipboard()" style="padding: 10px; border: 1px solid #ccc; border-radius: 5px; background-color: #f8f9fa;">Copy</button>
				</div>
			</div>
			`;
document.getElementById("shareLink").innerHTML = input;
myModal.show();
}

function copyToClipboard() {
var copyText = document.getElementById("shareLinkInput");
copyText.select();
copyText.setSelectionRange(0, 99999);
document.execCommand("copy");

// Display tick icon in Swal
Swal.fire({
position: 'center',
icon: 'success',
title: 'Copied!',
showConfirmButton: false,
timer: 1500
}).then((result) => {
// Add a 'then' block to execute code after the Swal is closed
// Close modal
myModal.hide();
});
}
	</script>
{% endblock %}
